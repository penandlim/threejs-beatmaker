!function(e){function t(t){for(var o,a,c=t[0],s=t[1],u=t[2],h=0,f=[];h<c.length;h++)a=c[h],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={0:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([37,1]),n()}({32:function(e,t){window.addEventListener("load",(function(){var e=window.inputKnobsOptions||{};e.knobWidth=e.knobWidth||e.knobDiameter||64,e.knobHeight=e.knobHeight||e.knobDiameter||64,e.sliderWidth=e.sliderWidth||e.sliderDiameter||128,e.sliderHeight=e.sliderHeight||e.sliderDiameter||20,e.switchWidth=e.switchWidth||e.switchDiameter||24,e.switchHeight=e.switchHeight||e.switchDiameter||24,e.fgcolor=e.fgcolor||"#f00",e.bgcolor=e.bgcolor||"#000",e.knobMode=e.knobMode||"linear",e.sliderMode=e.sliderMode||"relative";var t=document.createElement("style");t.innerHTML="input[type=range].input-knob,input[type=range].input-slider{\n  -webkit-appearance:none;\n  -moz-appearance:none;\n  border:none;\n  box-sizing:border-box;\n  overflow:hidden;\n  background-repeat:no-repeat;\n  background-size:100% 100%;\n  background-position:0px 0%;\n  background-color:transparent;\n  touch-action:none;\n}\ninput[type=range].input-knob{\n  width:".concat(e.knobWidth,"px; height:").concat(e.knobHeight,"px;\n}\ninput[type=range].input-slider{\n  width:").concat(e.sliderWidth,"px; height:").concat(e.sliderHeight,"px;\n}\ninput[type=range].input-knob::-webkit-slider-thumb,input[type=range].input-slider::-webkit-slider-thumb{\n  -webkit-appearance:none;\n  opacity:0;\n}\ninput[type=range].input-knob::-moz-range-thumb,input[type=range].input-slider::-moz-range-thumb{\n  -moz-appearance:none;\n  height:0;\n  border:none;\n}\ninput[type=range].input-knob::-moz-range-track,input[type=range].input-slider::-moz-range-track{\n  -moz-appearance:none;\n  height:0;\n  border:none;\n}\ninput[type=checkbox].input-switch,input[type=radio].input-switch {\n  width:").concat(e.switchWidth,"px;\n  height:").concat(e.switchHeight,"px;\n  -webkit-appearance:none;\n  -moz-appearance:none;\n  background-size:100% 200%;\n  background-position:0% 0%;\n  background-repeat:no-repeat;\n  border:none;\n  border-radius:0;\n  background-color:transparent;\n}\ninput[type=checkbox].input-switch:checked,input[type=radio].input-switch:checked {\n  background-position:0% 100%;\n}"),document.head.appendChild(t);var n=function(t){var n,o,r,i,a;t.inputKnobs||(t.inputKnobs={},t.refresh=function(){var c=t.getAttribute("data-src");r=+t.getAttribute("data-diameter"),t.getAttribute("data-unit")||"px";var s=document.defaultView.getComputedStyle(t,null);if(n=parseFloat(t.getAttribute("data-width")||r||s.width),o=parseFloat(t.getAttribute("data-height")||r||s.height),a=t.getAttribute("data-bgcolor")||e.bgcolor,i=t.getAttribute("data-fgcolor")||e.fgcolor,t.style.width=n+"px",t.style.height=o+"px",c)t.style.backgroundImage="url("+c+")";else{var u=Math.min(n,o),l='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(n,'" height="').concat(2*o,'" viewBox="0 0 ').concat(n," ").concat(2*o,'" preserveAspectRatio="none">\n<g><rect fill="').concat(a,'" x="1" y="1" width="').concat(n-2,'" height="').concat(o-2,'" rx="').concat(.25*u,'" ry="').concat(.25*u,'"/>\n<rect fill="').concat(a,'" x="1" y="').concat(o+1,'" width="').concat(n-2,'" height="').concat(o-2,'" rx="').concat(.25*u,'" ry="').concat(.25*u,'"/>\n<circle fill="').concat(i,'" cx="').concat(.5*n,'" cy="').concat(1.5*o,'" r="').concat(.25*u,'"/></g></svg>');t.style.backgroundImage="url(data:image/svg+xml;base64,"+btoa(l)+")"}},t.refresh())},o=function(t){var n,o,r,i,a,c;if(t.inputKnobs)t.redraw();else{var s=t.inputKnobs={};t.refresh=function(){r=+t.getAttribute("data-diameter"),c=t.getAttribute("data-unit")||"px";var u=document.defaultView.getComputedStyle(t,null);n=parseFloat(t.getAttribute("data-width")||r||u.width),o=parseFloat(t.getAttribute("data-height")||r||u.height),a=t.getAttribute("data-bgcolor")||e.bgcolor,i=t.getAttribute("data-fgcolor")||e.fgcolor,s.sensex=s.sensey=200,t.className.indexOf("input-knob")>=0?s.itype="k":n>=o?(s.itype="h",s.sensex=n-o,s.sensey=1/0,t.style.backgroundSize="auto 100%"):(s.itype="v",s.sensex=1/0,s.sensey=o-n,t.style.backgroundSize="100% auto"),t.style.width=n+c,t.style.height=o+c,s.frameheight=o;var l=t.getAttribute("data-src");if(l){t.style.backgroundImage="url(".concat(l,")");var h=+t.getAttribute("data-sprites");s.sprites=h||0,s.sprites>=1?t.style.backgroundSize="100% ".concat(100*(s.sprites+1),"%"):"k"!==s.itype&&(t.style.backgroundColor=a,t.style.borderRadius=.25*Math.min(n,o)+c)}else{var f;switch(s.itype){case"k":f=function(e,t,n){for(var o='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="'.concat(64*e,'" viewBox="0 0 64 ').concat(64*e,'" preserveAspectRatio="none">\n<defs><g id="K"><circle cx="32" cy="32" r="30" fill="').concat(n,'"/>\n<line x1="32" y1="28" x2="32" y2="7" stroke-linecap="round" stroke-width="6" stroke="').concat(t,'"/></g></defs>\n<use xlink:href="#K" transform="rotate(-135,32,32)"/>'),r=1;r<e;++r)o+='<use xlink:href="#K" transform="translate(0,'.concat(64*r,") rotate(").concat(270*r/e-135,',32,32)"/>');return o+"</svg>"}(101,i,a);break;case"h":f=function(e,t,n,o,r){for(var i='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(o,'" height="').concat(e*r,'" viewBox="0 0 ').concat(o," ").concat(e*r,'" preserveAspectRatio="none">\n<defs><g id="B"><rect x="0" y="0" width="').concat(o,'" height="').concat(r,'" rx="').concat(r/2,'" ry="').concat(r/2,'" fill="').concat(n,'"/></g>\n<g id="K"><circle cx="').concat(o/2,'" cy="0" r="').concat(r/2*.9,'" fill="').concat(t,'"/></g></defs>'),a=0;a<e;++a)i+='<use xlink:href="#B" transform="translate(0,'.concat(r*a,')"/>'),i+='<use xlink:href="#K" transform="translate('.concat(r/2+(o-r)*a/100,",").concat(r/2+r*a,')"/>');return i+"</svg>"}(101,i,a,n,o);break;case"v":f=function(e,t,n,o,r){for(var i='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(o,'" height="').concat(e*r,'" viewBox="0 0 ').concat(o," ").concat(e*r,'" preserveAspectRatio="none">\n<defs><rect id="B" x="0" y="0" width="').concat(o,'" height="').concat(r,'" rx="').concat(o/2,'" ry="').concat(o/2,'" fill="').concat(n,'"/>\n<circle id="K" cx="0" cy="0" r="').concat(o/2*.9,'" fill="').concat(t,'"/></defs>'),a=0;a<e;++a)i+='<use xlink:href="#B" transform="translate(0,'.concat(r*a,')"/>'),i+='<use xlink:href="#K" transform="translate('.concat(o/2," ").concat(r*(a+1)-o/2-a*(r-o)/100,')"/>');return i+"</svg>"}(101,i,a,n,o)}s.sprites=100,t.style.backgroundImage="url(data:image/svg+xml;base64,"+btoa(f)+")",t.style.backgroundSize="100% ".concat(100*(s.sprites+1),"%")}s.valrange={min:+t.min,max:""===t.max?100:+t.max,step:""===t.step?1:+t.step},t.redraw(!0)},t.setValue=function(e){if((e=Math.round((e-s.valrange.min)/s.valrange.step)*s.valrange.step+s.valrange.min)<s.valrange.min&&(e=s.valrange.min),e>s.valrange.max&&(e=s.valrange.max),t.value=e,t.value!==s.oldvalue){t.setAttribute("value",t.value),t.redraw();var n=document.createEvent("HTMLEvents");n.initEvent("input",!1,!0),t.dispatchEvent(n),s.oldvalue=t.value}},s.pointerdown=function(n){t.focus(),n.touches&&(n=n.touches[0]);var o=t.getBoundingClientRect(),r=.5*(o.left+o.right),i=.5*(o.top+o.bottom),a=n.clientX,c=n.clientY,u=Math.atan2(n.clientX-r,i-n.clientY);"k"===s.itype&&"circularabs"===e.knobMode&&(dv=s.valrange.min+(u/Math.PI*.75+.5)*(s.valrange.max-s.valrange.min),t.setValue(dv)),"k"!==s.itype&&"abs"===e.sliderMode&&(dv=.5*(s.valrange.min+s.valrange.max)+((a-r)/s.sensex-(c-i)/s.sensey)*(s.valrange.max-s.valrange.min),t.setValue(dv)),s.dragfrom={x:n.clientX,y:n.clientY,a:Math.atan2(n.clientX-r,i-n.clientY),v:+t.value},document.addEventListener("mousemove",s.pointermove),document.addEventListener("mouseup",s.pointerup),document.addEventListener("touchmove",s.pointermove),document.addEventListener("touchend",s.pointerup),document.addEventListener("touchcancel",s.pointerup),document.addEventListener("touchstart",s.preventScroll),n.preventDefault(),n.stopPropagation()},s.pointermove=function(n){var o,r=t.getBoundingClientRect(),i=.5*(r.left+r.right),a=.5*(r.top+r.bottom);n.touches&&(n=n.touches[0]);var c=n.clientX-s.dragfrom.x,u=n.clientY-s.dragfrom.y,l=Math.atan2(n.clientX-i,a-n.clientY);switch(s.itype){case"k":switch(e.knobMode){case"linear":o=(c/s.sensex-u/s.sensey)*(s.valrange.max-s.valrange.min),n.shiftKey&&(o*=.2),t.setValue(s.dragfrom.v+o);break;case"circularabs":if(!n.shiftKey){o=s.valrange.min+(l/Math.PI*.75+.5)*(s.valrange.max-s.valrange.min),t.setValue(o);break}case"circularrel":l>s.dragfrom.a+Math.PI&&(l-=2*Math.PI),l<s.dragfrom.a-Math.PI&&(l+=2*Math.PI),o=(l-=s.dragfrom.a)/Math.PI/1.5*(s.valrange.max-s.valrange.min),n.shiftKey&&(o*=.2),t.setValue(s.dragfrom.v+o)}break;case"h":case"v":o=(c/s.sensex-u/s.sensey)*(s.valrange.max-s.valrange.min),n.shiftKey&&(o*=.2),t.setValue(s.dragfrom.v+o)}},s.pointerup=function(){document.removeEventListener("mousemove",s.pointermove),document.removeEventListener("touchmove",s.pointermove),document.removeEventListener("mouseup",s.pointerup),document.removeEventListener("touchend",s.pointerup),document.removeEventListener("touchcancel",s.pointerup),document.removeEventListener("touchstart",s.preventScroll);var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),t.dispatchEvent(e)},s.preventScroll=function(e){e.preventDefault()},s.keydown=function(){t.redraw()},s.wheel=function(e){var n=e.deltaY>0?-s.valrange.step:s.valrange.step;e.shiftKey||(n*=5),t.setValue(+t.value+n),e.preventDefault(),e.stopPropagation()},t.redraw=function(e){if(e||s.valueold!==t.value){var r=(t.value-s.valrange.min)/(s.valrange.max-s.valrange.min);if(s.sprites>=1)t.style.backgroundPosition="0px "+-(r*s.sprites|0)*s.frameheight+c;else switch(s.itype){case"k":t.style.transform="rotate("+(270*r-135)+"deg)";break;case"h":t.style.backgroundPosition=(n-o)*r+c+" 0px";break;case"v":t.style.backgroundPosition="0px "+(o-n)*(1-r)+c}s.valueold=t.value}},t.refresh(),t.redraw(!0),t.addEventListener("keydown",s.keydown),t.addEventListener("mousedown",s.pointerdown),t.addEventListener("touchstart",s.pointerdown),t.addEventListener("wheel",s.wheel)}},r=function(){for(var e=document.querySelectorAll("input.input-knob,input.input-slider"),t=0;t<e.length;++t)i.push([o,e[t]]);e=document.querySelectorAll("input[type=checkbox].input-switch,input[type=radio].input-switch");for(var r=0;r<e.length;++r)i.push([n,e[r]])},i=[];r(),setInterval((function(){for(var e=0;i.length>0&&e<8;++e){var t=i.shift();t[0](t[1])}i.length<=0&&r()}),50)})),console.log("Loaded input-knobs.js")},37:function(e,t,n){"use strict";n.r(t);var o=n(6),r=n(3),i=n(1),a=n(15);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f,p,d,v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e={left:t.position.left+this.props.xIndex*t.position.xLeftGap+"%",top:t.position.top+this.props.yIndex*t.position.topGap-this.props.xIndex*t.position.xTopGap+"%"};return i.createElement("div",{className:"note","data-x-index":this.props.xIndex,"data-y-index":this.props.yIndex,style:e},"C#3")}}])&&s(n.prototype,o),r&&s(n,r),t}(i.Component);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}d={left:21,top:86,xLeftGap:4,xTopGap:.63,topGap:-13.05},(p="position")in(f=v)?Object.defineProperty(f,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[p]=d;var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,g(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){for(var e=[],t=0;t<this.props.ySize;t++)for(var n=0;n<this.props.xSize;n++){var o=t*this.props.xSize+n;e.push(i.createElement(v,{key:o,xIndex:n,yIndex:t},"C#3"))}return i.createElement("div",{id:"notes"},e)}}])&&b(n.prototype,o),r&&b(n,r),t}(i.Component);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),j(this,S(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return i.createElement("canvas",{id:"threejs"})}}])&&O(n.prototype,o),r&&O(n,r),t}(i.Component),T=n(9),I=n(11);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,A(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=i.createElement(T.a,{icon:I.b,className:"w-5vmin h-5vmin"}).props.icon.icon[4],t=i.createElement(T.a,{icon:I.a,className:"w-5vmin h-5vmin"}).props.icon.icon[4];return i.createElement("div",{className:"play-control"},i.createElement("a",{href:"#",id:"controlButton",className:"control repos-center show-control"},i.createElement("svg",{id:"controlButtonSVG","aria-hidden":"true",focusable:"false","data-prefix":"fas",className:"svg-inline--fa w-5vmin h-5vmin",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},i.createElement("path",{id:"playPath",fill:"currentColor",d:t}),i.createElement("path",{id:"stopPath",fill:"currentColor",d:e}))))}}])&&D(n.prototype,o),r&&D(n,r),t}(i.Component);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),H(this,B(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e={left:t.position.left+this.props.xIndex*t.position.xLeftGap+"%",top:t.position.top+this.props.yIndex*t.position.topGap-this.props.xIndex*t.position.xTopGap+"%"};return i.createElement("div",{className:"track-control",style:e},i.createElement("input",{id:"track-"+this.props.yIndex+"-volume",type:"range",className:"input-knob","data-diameter":"7","data-unit":"vmin","data-src":"./img/knob_1.png","data-sprites":"100"}))}}])&&L(n.prototype,o),r&&L(n,r),t}(i.Component);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function W(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(R,"position",{left:3,top:86,xLeftGap:4,xTopGap:.63,topGap:-13.05});var F=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),W(this,J(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){for(var e=[],t=0;t<this.props.ySize;t++)e.push(i.createElement(R,{key:t,xIndex:0,yIndex:t}));return i.createElement("div",{className:"tracks"},e)}}])&&K(n.prototype,o),r&&K(n,r),t}(i.Component);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function U(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(this,Z(t).call(this,e))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return i.createElement("div",{id:"react"},i.createElement(P,null),i.createElement("div",{className:"overlay no-click"},i.createElement(k,{xSize:this.props.xSize,ySize:this.props.ySize})),i.createElement("div",{className:"overlay"},i.createElement(N,null),i.createElement(F,{xSize:this.props.xSize,ySize:this.props.ySize})))}}])&&q(n.prototype,o),r&&q(n,r),t}(i.Component),ee=(n(28),n(30),n(0));function te(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=o(document.body),re=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ne(this,"raycaster",void 0),ne(this,"hoveredObject",void 0),ne(this,"mouseOverArray",void 0),ne(this,"canvasEl",void 0),this.raycaster=new ee.cb,this.hoveredObject=null,this.mouseOverArray=[],this.canvasEl=o("#threejs")}var t,n,r;return t=e,r=[{key:"mouseIn",value:function(e){null!==e&&e.userData.classObject&&(e.userData.classObject.onHoverStart(),oe.addClass("pointer"))}},{key:"mouseOut",value:function(e){null!==e&&e.userData.classObject&&(e.userData.classObject.onHoverEnd(),oe.removeClass("pointer"))}}],(n=[{key:"pick",value:function(t,n,o){this.raycaster.setFromCamera(t,o);for(var r=this.raycaster.intersectObjects(n),i=0;i<this.mouseOverArray.length;i++){var a=this.mouseOverArray[i];(r.length&&a!==r[0].object||0===r.length)&&(this.mouseOverArray.splice(i,1),i--,e.mouseOut(a))}return r.length?(this.hoveredObject=r[0].object,this.mouseOverArray.includes(this.hoveredObject)||(this.mouseOverArray.push(this.hoveredObject),e.mouseIn(this.hoveredObject))):this.hoveredObject=null,this.hoveredObject}},{key:"execute",value:function(){return!(null===this.hoveredObject||!this.hoveredObject.userData.classObject||(this.hoveredObject.userData.classObject.onClick(),0))}},{key:"scroll",value:function(e){return!(null===this.hoveredObject||!this.hoveredObject.userData.classObject||(this.hoveredObject.userData.classObject.onScroll(e),0))}}])&&te(t.prototype,n),r&&te(t,r),e}(),ie=n(4),ae=n(5),ce=n(17);function se(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=window.localStorage,he=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ue(this,"hasLocalStorage",void 0),ue(this,"totalNotesLength",void 0),ue(this,"trackLength",void 0),this.hasLocalStorage=!!window.localStorage,this.totalNotesLength=t,this.trackLength=n,this.checkIfDataExists()||this.resetData(),e.instance=this}var t,n,o;return t=e,(n=[{key:"checkIfDataExists",value:function(){return le.hasOwnProperty("notes")&&le.hasOwnProperty("tracks")}},{key:"resetData",value:function(){var e=Array.apply(null,Array(this.totalNotesLength)).map((function(){})),t=Array.apply(null,Array(this.trackLength)).map((function(){}));le.setItem("notes",JSON.stringify(e)),le.setItem("tracks",JSON.stringify(t))}},{key:"writeNoteData",value:function(e,t){var n=JSON.parse(le.getItem("notes"));n[e]=t,le.setItem("notes",JSON.stringify(n))}},{key:"saveAllNotes",value:function(e){le.setItem("notes",JSON.stringify(e))}},{key:"readAllNotes",value:function(){return this.checkIfDataExists()?JSON.parse(le.getItem("notes")):Array.apply(null,Array(this.totalNotesLength)).map((function(){}))}},{key:"readAllTracks",value:function(){return this.checkIfDataExists()?JSON.parse(le.getItem("tracks")):Array.apply(null,Array(this.trackLength)).map((function(){}))}},{key:"writeTracksData",value:function(e){var t=JSON.parse(le.getItem("tracks"));t.forEach((function(n,o,r){t[o]=e[o]})),le.setItem("tracks",JSON.stringify(t))}},{key:"writeTrackData",value:function(e){var t=JSON.parse(le.getItem("tracks"));t[e.trackIndex]=e.instrument.get(),le.setItem("tracks",JSON.stringify(t))}}])&&se(t.prototype,n),o&&se(t,o),e}();function fe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ue(he,"instance",null);var de=function(){function e(t,n,o,r,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pe(this,"object3d",void 0),pe(this,"originalPos",void 0),pe(this,"material",void 0),pe(this,"isClicked",void 0),pe(this,"color",void 0),pe(this,"enabled",void 0),pe(this,"eventID",void 0),pe(this,"timeIndex",void 0),pe(this,"noteValueDOM",void 0),pe(this,"playTween",void 0),pe(this,"note",void 0),pe(this,"humanModel",void 0),pe(this,"track",void 0),pe(this,"trackIndex",void 0),pe(this,"noteIndex",void 0);var c=new ee.K({color:16777215});this.object3d=new ee.I(e.GEOMETRY,c),this.object3d.position.x=r,this.originalPos={x:r,y:i},this.object3d.position.y=i,this.object3d.receiveShadow=!0,this.object3d.userData.classObject=this,this.material=c,this.isClicked=!1,this.setTrack(t),this.enabled=!1,this.eventID=null,this.timeIndex=o,this.trackIndex=n,this.noteIndex=xe.Instance.xSize*this.trackIndex+this.timeIndex,this.noteValueDOM=a,this.playTween=new ie.Tween(this.object3d.position).to({y:this.originalPos.y-1},150).easing(ie.Easing.Exponential.Out).chain(new ie.Tween(this.object3d.position).to({y:this.originalPos.y},150).easing(ie.Easing.Sinusoidal.Out)),this.setNote(e.DEFAULT_NOTE)}var t,n,o;return t=e,(n=[{key:"setNote",value:function(e){this.note=e,this.noteValueDOM.text(e)}},{key:"updateNote",value:function(e,t){var n=e>0?"-2m":"2m";(n=Object(ce.a)(Object(ae.c)(this.note,n))).includes("0")||(this.setNote(n),t&&this.oneshot(n),null!==this.eventID&&he.instance.writeNoteData(this.noteIndex,this.note))}},{key:"clearHoverTween",value:function(){this.object3d.userData.hoverTween&&ie.remove(this.object3d.userData.hoverTween)}},{key:"assignHumanModel",value:function(e){this.humanModel=e,e.setColorTween(this.color)}},{key:"getHumanModel",value:function(){return this.humanModel}},{key:"showNoteValue",value:function(){this.noteValueDOM.addClass("show-note")}},{key:"hideNoteValue",value:function(){this.noteValueDOM.removeClass("show-note")}},{key:"onHoverStart",value:function(){if(!this.isClicked){if(this.clearHoverTween(),this.object3d.userData.hoverColor){var e=(o=.2,r=this.object3d.userData.hoverColor,i=Math.round,a=255*r.r,c=255*r.g,s=255*r.b,u=r.a?r.a:null,{r:i(a*(f=(l=o<0)?1+o:1-o)+(h=l?0:255*o))/255,g:i(c*f+h)/255,b:i(s*f+h)/255,a:u}),t=this.object3d,n=t.material;t.userData.hoverTween=new ie.Tween(n.color).to({r:e.r,g:e.g,b:e.b},300).easing(ie.Easing.Cubic.Out).start()}this.showNoteValue()}var o,r,i,a,c,s,u,l,h,f}},{key:"onHoverEnd",value:function(){if(!this.isClicked){this.clearHoverTween();var e=this.object3d.material;this.object3d.userData.hoverTween=new ie.Tween(e.color).to({r:1,g:1,b:1},300).easing(ie.Easing.Cubic.Out).start(),this.hideNoteValue()}}},{key:"onClick",value:function(){this.clearHoverTween(),this.isClicked?this.toggleOff():this.toggleOn()}},{key:"onScroll",value:function(e){this.updateNote(e,"started"!==r.c.state)}},{key:"toggleOn",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.object3d.material.color.copy(this.object3d.userData.hoverColor),this.object3d.userData.tween=new ie.Tween(this.object3d.scale).to({y:[.5,1.5]},300).easing(ie.Easing.Back.Out).start(),this.isClicked=!0,this.enabled=!0,this.schedule(),e&&this.oneshot(this.note),this.showNoteValue()}},{key:"toggleOff",value:function(){this.object3d.userData.hoverTween=new ie.Tween(this.object3d.material.color).to({r:1,g:1,b:1},300).easing(ie.Easing.Cubic.Out).start(),this.object3d.userData.tween=new ie.Tween(this.object3d.scale).to({y:1},300).easing(ie.Easing.Back.Out).start(),this.isClicked=!1,this.enabled=!1,this.clear(),this.hideNoteValue()}},{key:"oneshot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"32n";this.hasTrack()&&this.getInstrument().triggerAttackRelease(e,t),this.playTween.stop(),this.playTween.start()}},{key:"scheduleCallback",value:function(e){this.hasTrack()&&this.getInstrument().triggerAttackRelease(this.note,"32n",e),this.playTween.stop(),this.playTween.start(),this.humanModel.flashColor()}},{key:"schedule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e&&(this.note=e),this.clear();var t=this;this.eventID=r.c.schedule((function(e){t.scheduleCallback(e)}),"0:0:"+this.timeIndex),he.instance.writeNoteData(this.noteIndex,this.note)}},{key:"reschedule",value:function(){null!==this.eventID&&(this.clear(),this.schedule())}},{key:"clear",value:function(){null!==this.eventID&&(r.c.clear(this.eventID),this.eventID=null,he.instance.writeNoteData(this.noteIndex,null))}},{key:"getObject3D",value:function(){return this.object3d}},{key:"setTrack",value:function(e){this.track=e,this.color=e.color,this.object3d.userData.hoverColor=e.color}},{key:"hasTrack",value:function(){return null!==this.track}},{key:"getInstrument",value:function(){return this.track.instrument}},{key:"load",value:function(e){this.setNote(e),this.toggleOn(!1)}}])&&fe(t.prototype,n),o&&fe(t,o),e}();function ve(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ye(e,t,n){return t&&ve(e.prototype,t),n&&ve(e,n),e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}pe(de,"DEFAULT_NOTE","C3"),pe(de,"GEOMETRY",new ee.f(3,.7,2)),de.GEOMETRY.translate(0,-.35,0);var me=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),be(this,"_trackIndex",void 0),be(this,"notes",[]),be(this,"_instrument",void 0),be(this,"_color",void 0),be(this,"model",void 0),this._instrument=t,this.color=new ee.k(n),this._trackIndex=o}return ye(e,[{key:"trackIndex",get:function(){return this._trackIndex},set:function(e){this._trackIndex=e}},{key:"color",get:function(){return this._color},set:function(e){this._color=e}},{key:"instrument",get:function(){return this._instrument},set:function(e){this._instrument=e}}]),ye(e,[{key:"setModel",value:function(e){this.model=e}},{key:"addNoteBlock",value:function(e){this.notes.push(e)}},{key:"getNoteBlock",value:function(e){return this.notes.length>e?this.notes[e]:null}},{key:"load",value:function(e){this.instrument.set(e),this.instrument.get()}},{key:"save",value:function(){return null!==he.instance?(he.instance.writeTrackData(this),!0):(console.error("StorageSystem is not initialized!"),!1)}}]),e}();function ge(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=[13200437,15314983,15546405,2912371,8763285,14406265],xe=function(){function e(t,n,i,a,c,s,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),we(this,"instrumentArray",void 0),we(this,"xSize",void 0),we(this,"ySize",void 0),we(this,"xGap",void 0),we(this,"yGap",void 0),we(this,"beatsPerMeasure",void 0),we(this,"length",void 0),we(this,"tracks",[]),this.xSize=t,this.ySize=n,this.xGap=c,this.yGap=s,this.beatsPerMeasure=u,this.length=t*n,this.instrumentArray=[new r.b({volume:-6}).toDestination(),new r.a({volume:-6}).toDestination(),new r.a({volume:-6}).toDestination(),new r.a({volume:-6}).toDestination(),new r.a({volume:-6}).toDestination(),new r.a({volume:-6}).toDestination()],e.Instance=this;for(var l=o(".note"),h=0;h<this.ySize;h++){this.tracks.push(new me(this.instrumentArray[h],ke[h],h));for(var f=0;f<this.xSize;f++){var p=h*this.xSize+f;this.tracks[h].addNoteBlock(new de(this.tracks[h],h,f,i+c*f,a+s*h,l.eq(p)))}}r.c.loopEnd="1m",r.c.loop=!0}var t,n,i;return t=e,(n=[{key:"getTrack",value:function(e){return this.tracks[e]}},{key:"get",value:function(e){return this.get2d(e%this.xSize,Math.floor(e/this.xSize))}},{key:"get2d",value:function(e,t){return this.tracks[t].getNoteBlock(e)}},{key:"addToScene",value:function(e,t){var n=new ee.f(.5,1,2);n.translate(0,-.25,0);for(var o=new ee.K({color:3355443}),r=0;r<this.ySize;r++)for(var i=0;i<this.xSize;i++){var a=this.get(i+r*this.xSize).getObject3D();if(t.push(a),e.add(a),(i+1)%this.beatsPerMeasure==0){var c=new ee.I(n,o);c.receiveShadow=!0,c.position.x=a.position.x+this.xGap/2,c.position.y=a.position.y,c.position.z=a.position.z,e.add(c)}else if(0===i){var s=new ee.I(n,o);s.receiveShadow=!0,s.position.x=a.position.x-this.xGap/2,s.position.y=a.position.y,s.position.z=a.position.z,e.add(s)}}}},{key:"play",value:function(){r.c.start()}},{key:"pause",value:function(){r.c.pause()}},{key:"stop",value:function(){r.c.stop()}},{key:"loadAllNotes",value:function(e){var t=this;e.forEach((function(e,n,o){e&&t.get(n).load(e)}))}},{key:"loadAllTracks",value:function(t){t.forEach((function(t,n,o){t&&e.Instance.getTrack(n).load(t)}))}},{key:"saveAllTracks",value:function(){null!==he.instance&&he.instance.writeTracksData(this.getAllTrackOptions())}},{key:"getAllTrackOptions",value:function(){var e=[];return this.tracks.forEach((function(t,n,o){e.push(t.instrument.get())})),e}}])&&ge(t.prototype,n),i&&ge(t,i),e}();we(xe,"Instance",null);var Oe=function(e){var t={animations:e.animations,scene:e.scene.clone(!0)},n={};e.scene.traverse((function(e){e instanceof ee.ib&&(n[e.name]=e)}));var o={},r={};for(var i in t.scene.traverse((function(e){e instanceof ee.d&&(o[e.name]=e),e instanceof ee.ib&&(r[e.name]=e)})),n){for(var a=n[i].skeleton,c=r[i],s=[],u=0;u<a.bones.length;++u){var l=o[a.bones[u].name];s.push(l)}c.bind(new ee.hb(s,a.boneInverses),c.matrixWorld)}return t};function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e){function t(e){var n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,n=!(r=Ee(t).call(this,e))||"object"!==je(r)&&"function"!=typeof r?Pe(o):r,Ie(Pe(n),"mixer",void 0),Ie(Pe(n),"animations",void 0),Ie(Pe(n),"object3d",void 0),Ie(Pe(n),"material",void 0),Ie(Pe(n),"defaultColor",void 0),Ie(Pe(n),"actions",void 0),Ie(Pe(n),"head",void 0),Ie(Pe(n),"currentActionIndex",void 0),Ie(Pe(n),"shouldPlay",void 0),Ie(Pe(n),"colorTween",void 0),n.object3d=e.scene.children[0],n.animations=e.animations,n.object3d.children[1].castShadow=!0,n.object3d.children[1].material=new ee.K({skinning:!0,flatShading:!0}),n.material=n.object3d.children[1].material,n.defaultColor=n.material.color,n.mixer=new ee.c(n.object3d),n.actions=[],n.head=n.object3d.getObjectByName("mixamorigHead");for(var i=0;i<n.animations.length;i++)n.actions.push(n.mixer.clipAction(n.animations[i]));return n.actions[1].play(),n.currentActionIndex=0,n.shouldPlay=!1,n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,e),n=t,(o=[{key:"setColorTween",value:function(e){this.colorTween=new ie.Tween(this.material.color).to({r:e.r,g:e.g,b:e.b},100).easing(ie.Easing.Cubic.Out).chain(new ie.Tween(this.material.color).to({r:this.defaultColor.r,g:this.defaultColor.g,b:this.defaultColor.b},200))}},{key:"updateMixer",value:function(e){this.mixer.update(e)}},{key:"transitionAnimTo",value:function(e){this.actions[e].enabled=!0,this.actions[e].time=0,this.actions[e].setEffectiveTimeScale(1),this.actions[e].setEffectiveWeight(1),this.actions[e].play(),this.actions[this.currentActionIndex].crossFadeTo(this.actions[e],1,!0),this.currentActionIndex=e}},{key:"updateXPos",value:function(e,t,n,o){this.object3d.position.x=e+(t-e)*n}},{key:"flashColor",value:function(){null!==this.colorTween&&(this.colorTween.stop(),this.colorTween.start())}},{key:"getObject3D",value:function(){return this.object3d}}])&&Se(n.prototype,o),r&&Se(n,r),t}((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)})),De=n(16),Ce=o(window);function Ae(){var e=document.querySelector("#threejs"),t=new ee.sb({canvas:e,antialias:!0});t.setPixelRatio(window.devicePixelRatio),t.shadowMap.enabled=!0,t.shadowMap.type=ee.T;var n=new ee.S(-40,40,22.5,-22.5,1,1e3);n.position.set(-20,25,45),n.lookAt(new ee.pb(0,15,0));new ee.pb(0,0,0),new ee.pb(0,0,0);var o=new ee.eb;o.add(n),window.scene=o,o.background=new ee.k("gray");var i=new ee.j,a=[],c=[];window.humanModels=a;var s=new re,u={x:0,y:0},l=new xe(16,6,-25,-.25,3.5,6,4);new he(l.length,l.ySize),l.loadAllNotes(he.instance.readAllNotes()),window.trackManager=l;var h=new ee.q(11657727,12155424,.5);h.name="HemisphereLight",o.add(h);var f=new ee.l(16777215,1);f.shadow.mapSize.width=512,f.shadow.mapSize.height=512,f.position.set(25,50,10),f.castShadow=!0,f.name="DirectionalLight",o.add(f),o.add(f.target),f.shadow.camera.left=-15,f.shadow.camera.right=15,f.shadow.camera.top=50,f.shadow.camera.bottom=-50;var p=new ee.a(16777215,.1);p.position.set(5,10,2),p.name="AmbientLight",o.add(p);(new De.a).load("models/everything-trimmed.glb",(function(e){for(var t=0;t<6;t++){0!==t&&(e=Oe(e));var n=new _e(e);n.getObject3D().name="Character "+t,a.push(n),c.push(n.getObject3D().children[1]);for(var r=0;r<l.xSize;r++)l.get2d(r,t).assignHumanModel(n)}for(var i=0;i<a.length;i++){var s=a[i];s.transitionAnimTo(i+5);var u=s.getObject3D();u.position.x=-30,u.position.y=6*i-.2,u.rotateZ(-1.5708),o.add(u)}var h=(new ee.e).setFromObject(a[0].getObject3D());h.getSize(new ee.pb).length(),h.getCenter(new ee.pb)})),l.addToScene(o,c);var d=function(t){var n=function(t){var n,o,r=e.getBoundingClientRect();return"clientX"in t.originalEvent?(n=t.originalEvent.clientX,o=t.originalEvent.clientY):"touches"in t.originalEvent&&(n=t.originalEvent.touches[0].pageX,o=t.originalEvent.touches[0].pageY),{x:n-r.left,y:o-r.top}}(t);u.x=n.x/e.clientWidth*2-1,u.y=n.y/e.clientHeight*-2+1},v=function(){u.x=-1e5,u.y=-1e5};Ce.on("mousemove",d),Ce.on("mouseout",v),Ce.on("mouseleave",v),Ce.on("click",(function(e){d(e),s.pick(u,c,n),s.execute()})),Ce.on("wheel",(function(e){d(e),s.pick(u,c,n),s.scroll(e.originalEvent.deltaY)})),requestAnimationFrame((function e(l){l*=.001;l;var h=i.getDelta();if(function(e){var t=e.domElement,n=t.clientWidth,o=t.clientHeight,r=t.width!==n||t.height!==o;return r&&e.setSize(n,o,!1),r}(t)){var f=t.domElement;n instanceof ee.U&&(n.aspect=f.clientWidth/f.clientHeight),n.updateProjectionMatrix()}for(var p=r.c.progress,d=0;d<a.length;d++)a[d].updateMixer(h),a[d].updateXPos(-30,28,p,h);s.pick(u,c,n),t.render(o,n),requestAnimationFrame(e),ie.update()}))}n(32),a.render(i.createElement($,{xSize:16,ySize:6}),document.getElementById("container"),(function(){Ae();var e=o("#controlButton"),t=document.getElementById("controlButtonSVG"),n=(Snap(t),Snap.select("#playPath")),i=Snap.select("#stopPath"),a=n.node.getAttribute("d"),c=i.node.getAttribute("d");e.on("click",(function(){"started"===r.c.state?(n.animate({d:a},300,mina.easeinout),r.c.stop()):(n.animate({d:c},300,mina.backout),r.c.start())}))}))}});